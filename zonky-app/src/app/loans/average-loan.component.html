<h3 class="mt-3">Výpočet průměrné půjčky podle ratingu</h3>
<form class="form-inline mt-3 mb-3">
  <div class="form-group">
    <label class="mr-2" for="rating">Zadejte rating</label>
    <input [(ngModel)]='rating' type="text" class="form-control mr-2" placeholder="Rating" name="Rating"/>
  </div>
  <button type="button" class="btn btn-success" (click)='compute()'>Vypočítat</button>
</form>

<div *ngIf="errorMessage" class="alert alert-danger">
  <h4>Při načítání půjček došlo k chybě:</h4>
  {{errorMessage}}
</div>
<div *ngIf="averageLoan">
  <h4>Rating {{ averageLoan.rating }}</h4>

  <dl class="row">
    <dt class="col-2">Průměrná půjčka</dt>
    <dd class="col-10">{{ averageLoan.average }} Kč</dd>
    <dt class="col-2">Celkem půjček</dt>
    <dd class="col-10">{{ averageLoan.currentCount }}</dd>
  </dl>

  <div *ngIf="inProgress">
    <div class="progress">
      <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]='averageLoan.progress.toString() + "%"' aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <small>Načteno {{ averageLoan.currentCount }} z {{ averageLoan.total }}</small>
  </div>
    
</div>
